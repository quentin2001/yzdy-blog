---
title: 构建AI时代的个人知识库--RAG、GraphRAG、NotebookLM
description:
pubDate: 2025-11-28
cover: assets/cover.png
tags: ['AI', 'RAG', 'GraphRAG', 'NotebookLM']
recommend: true
---

相信每个人在学习或工作过程中都会记点什么整理些什么。我从最早的手写笔记开始--写到某个本子上，到后来用本地软件--word、excel、ppt，再到后来可以云端存储的软件--幕布->腾讯文档->语雀->飞书，现在我主要在用飞书

自从有了AI，人们又开始想利用AI来优化知识库这个应用场景，因为不仅对于个人比较重要，对于企业来说构建自己的智能知识库也会很有价值，因为一个企业的知识资产就约等于“这家企业”，如果能有效且高效的使用企业的知识资产，势必能够提高企业的效率和商业获利。

## 📚 个人知识库搭建学习笔记

### 💻 1. 检索增强生成 (RAG)

#### RAG 的概念和产生契机

RAG（Retrieval-Augmented Generation，检索增强生成）是一种 AI 检索机制，主要用于构建个人知识库。

**产生契机：**
很多人设想中的 AI 知识库是把所有资料拖进去后，AI 能够综合分析思考，生成完美的结论。然而，大型语言模型（LLM）的训练数据是有限的，且无法实时更新最新信息，同时存在“幻觉”（生成不准确信息）的风险。RAG 机制应运而生，它通过**外部知识检索**来增强 LLM 的生成能力，使其能够基于特定、最新的或私有的文档提供准确的答案。

#### RAG 的工作原理

RAG 的工作机制涉及一个高质量知识库背后的技术全流程。它首先从外部知识库中检索相关信息，然后将这些信息与用户查询一同提供给大模型（LLM），由 LLM 基于这些上下文信息生成最终回答。

#### RAG 工作环节及涉及到的组件

一个高质量的 RAG 工作流通常涉及以下关键环节和组件：

1.  **文本分割 (Text Splitting):** 将大文档分割成更小、可管理的块（chunks）。例如，可以使用 `RecursiveCharacterTextSplitter`。
2.  **嵌入模型 (Embedding Model):** 嵌入模型负责将文本块转化为数值向量（Embedding）。例如，Google 提供了关于 Gemini Embedding 的文档。这些向量捕获了文本的语义信息。
3.  **向量数据库 (Vector Database):** 向量数据库用于存储这些嵌入向量。当用户提出问题时，系统会将查询问题也转化为向量，然后在向量数据库中快速检索出与查询向量最相似（语义最相关）的文本块。
4.  **检索 (Retrieval):** 从向量数据库中召回（retrieve）与用户查询最相关的文本片段。
5.  **生成 (Generation):** 将用户查询、检索到的相关文本片段（作为上下文）和预设的提示词（Prompt）一起输入给大语言模型，由 LLM 生成最终答案。

#### RAG 的局限性及存在的问题

尽管 RAG 是强大的工具，但实际体验中可能不如预期，经常会遇到各种奇怪的问题。

主要的局限性包括：

- **召回准确性问题：** 如果检索到的上下文不准确或不完整，大模型的回答质量就会下降。
- **技术复杂性：** 一些用户表示不再折腾 RAG 了。
- **进阶方案需求：** 为了解决效果不佳的问题，进阶方案被提出，例如加入**重排序模型**（Re-ranking）、使用 MCP Server 数据库 或借助超大上下文模型。

### 📷 2. 图检索增强生成 (GraphRAG)

#### GraphRAG 产生的契机

GraphRAG 是将 RAG 与**知识图谱**结合起来的技术。它的产生是为了克服传统 RAG 在处理复杂、结构化关系信息时的不足。一些观点认为 RAG 已经过时，而 GraphRAG 才是未来。

#### GraphRAG 实现的工作原理

GraphRAG 的核心是将知识库中的数据结构化为**知识图谱**（Knowledge Graphs）。

1.  **图谱构建：** 利用工具和模型将非结构化数据转化为图谱结构，包括实体（nodes）和关系（edges）.
2.  **图谱存储：** 通常使用图数据库（如 **Neo4j**）来存储知识图谱。
3.  **增强检索：** 在检索阶段，不仅进行向量相似度匹配，还会利用知识图谱中的实体和关系信息，进行更精准、更具逻辑性的检索，例如实现知识图谱可视化。
4.  **应用：** GraphRAG 可用于打造基于知识图谱的本地 RAG 知识库，甚至应用于植物病害知识问答系统。

#### GraphRAG 现在的局限性

GraphRAG 虽然强大，但也存在明显的局限性：

- **成本高昂：** GraphRAG 可能“太烧钱” ("GraphRAG太烧钱？")。
- **替代方案涌现：** 市场上出现了旨在改进 GraphRAG 痛点的技术：
  - **LightRAG：** 被宣传为全面超越 GraphRAG，具有更快的速度、更好的效果，并且更方便落地部署。LightRAG 和 GraphRAG 都可基于 Neo4j 数据库进行知识图谱可视化和质量评测。
  - **LazyGraphRag：** 微软推出了 GraphRAG 的进化版 LazyGraphRag，旨在大大降低 GraphRAG 的使用成本。

### 📝 3. 个人知识库搭建：Dify、Coze、CherryStudio 和 MCP

搭建个人知识库可以使用 Dify、Coze 或 CherryStudio 等平台，它们可以集成 **MCP (Model Context Protocol)** 来提高检索精度和自动化能力。

| 平台                             | 搭建要点                                                                                                   | 组件选择与参数调整                                                                                                                                                                                                                       |
| :------------------------------- | :--------------------------------------------------------------------------------------------------------- | :--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Dify**                         | 用于搭建简单的知识库问答工作流，也可用于搭建 AI 数字员工。                                                 | **组件选择：** 可结合数据清洗工作流来提升检索召回成功率。有教程介绍 Dify 知识库的使用和参数设置。                                                                                                                                        |
| **Coze (扣子)**                  | 强大的智能体搭建平台，可用于搭建本地 RAG 知识库。                                                          | **组件选择：** 可利用 Coze 工作流来构建智能体。有详细教程指导 Coze 智能体搭建、应用和工作流。                                                                                                                                            |
| **CherryStudio**                 | 可用于搭建本地 AI 知识库，通常与 MCP 结合使用。                                                            | **组件选择：** 为了解决知识库效果不佳的问题，进阶方案包括：**1. 重排序模型 (Re-ranking model)**；**2. MCP Server 数据库**；**3. 超大上下文模型**。                                                                                       |
| **MCP (Model Context Protocol)** | **概念：** MCP 是一种协议，可以提高结构化数据的检索精度。它常被用于配置 CherryStudio，或与数据库结合使用。 | **参数调整/集成：** MCP 可以与数据库结合，例如使用 **PostGreSQL MCP Server**。将 MCP 接入大模型涉及到抓取 AI 提示词和拆解 MCP 的底层原理。MCP 与数据库的组合被认为是一种提高结构化数据检索精度的新方式 和一种完美碾压 RAG 检索的新方式。 |

### 🔥4. NotebookLM：功能及使用教程

NotebookLM 是 Google 推出的一款 AI 学习笔记工具，它基于 **Gemini 2.0** 和后来的 **Gemini 3** 模型。它被认为是全球最优秀的 AI 学习笔记工具之一。

#### NotebookLM 的核心功能

NotebookLM 具有颠覆传统学习方式的强大功能：

1.  **AI 检索和知识问答：** 可以快速用它检索资料，并进行知识库问答。
2.  **内容生成：** 一键生成学习笔记、详细的思维导图、博客。
3.  **格式兼容性：** 兼容多种文件格式。
4.  **进阶功能（最新更新）：**
    - 一键生成 **简报 (brief reports)** 和 **FAQ**。
    - 将各种资料一键转化为**播客**。
    - 新增**一键生成 PPT** 的功能。
5.  **职场应用：** 它是打工人必备的利器，只要输入足够的公司资料，它能模拟面试官进行反复面试，帮助用户拿下 Offer。
6.  **学习效率：** 可以帮助用户在几分钟内看完一本书 或快速学习任何复杂知识，构建个人知识体系。

#### NotebookLM 使用教程 (保姆级指南)

有大量的教程和完整攻略可供初学者学习如何使用 NotebookLM：

1.  **快速上手/基础操作：** 许多教程声称可以在 10 分钟内学会使用 NotebookLM，它是基于 Gemini 2.0 的，完全免费。
2.  **集成工作流：** NotebookLM 的 10 个真正用法可帮助用户将其完全融入自己的工作流，应用于论文分析、行业分析、出考卷等场景。
3.  **核心流程：** 上传资料（兼容多种文件格式），NotebookLM 利用 AI（Gemini 模型） 对资料进行分析和检索，用户可以通过互动提问或利用内置功能（如生成笔记、PPT）来提取知识。

---

**比喻总结：**

如果说传统的 RAG 知识库就像一个高效的图书馆管理员，能快速帮你找到相关书籍（文档片段），但它只关注文本的相似性；那么 **GraphRAG** 就是一位历史学家，它不仅知道书在哪里，还知道每本书、每个概念之间的复杂关系网络，能提供更深层次的、结构化的知识；而 **NotebookLM** 则像是你随身的 AI 导师，它能帮你快速消化你输入的资料，自动总结、生成笔记、甚至帮你模拟面试，将知识的提取和应用过程最大程度地简化了。

- **问Q：**
  现在通用大模型的联网搜索和记忆功能分别是怎么实现的？模型是如何调用搜索工具、两者之间怎样通信？它联网时会不会真的检索全网？范围如何限定？记忆能力又依赖什么技术？

- **答A：**
  大模型本体只负责理解与生成文本，联网搜索和记忆是外挂能力。联网搜索由独立的搜索工具或检索系统实现，模型通过API接口以自然语言→结构化指令的方式调用它，检索范围一般是特定搜索引擎、特定数据集或插件权限内而非全网无限制漫游；模型得到的是返回结果摘要或网页片段再进行加工，而不是自己爬网。至于记忆，多是借助外部数据库或向量存储，把历史内容编码成embedding进行检索调用，模型在对话中根据相似度从记忆库取回片段再生成回应，真正长期记忆不存储在模型权重里，而靠外接存储和检索调度来维持。

### 5.深深体验了一把被AI血虐的痛

❗‼️⁉️**本文通过NotebookLM制作**

```prompt
  我想让你给我生成一个个人知识库搭建的学习笔记从以下几个方面，尽可能的详细且简洁，能够让初学者理解里面的概念并且能够跟着笔记搭建一个个人知识库，并且还能获得现成产品NotebookLM的使用指南：

  1. RAG：要涉及到RAG的概念和产生契机、RAG的工作原理、RAG工作环节及环节内涉及到的嵌入模型和向量数据库的介绍、RAG的局限性还存在的问题
  2. GraphRAG：GraphRAG产生的契机、GraphRAG实现的工作原理、GraphRAG现在的局限性
  3. 个人知识库搭建：使用Dify或coze或CherryStudio和MCP如何搭建一个个人知识库，并且介绍一下需要调整哪些参数，选择哪些组件
  4. NotebookLM：NotebookLM的功能及使用教程
```
